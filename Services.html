<!DOCTYPE html>
<html>
<head>
	<title>Client Services</title>
	<link rel="stylesheet" type="text/css" href= "services1.css">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://code.jquery.com/jquery-3.2.1.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<script   src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="   crossorigin="anonymous"></script>
	

</head>
<body>
	<div class="top-bar">
		<div id="navbar">
			<a href="#home"><p>Qurious</p></a>
			<a href="#Client Services" id="QS"><p>Qurious Services</p></a>
		</div>
	</div>
	<form action="#" method="post">
		<input type="submit" id="loginBtn" value="Go" ><input type="text" id="loginBar" placeholder="ID/REF #" maxlength="6" autocomplete="off" onmousedown="" onblur="">
	</form>
	
	<div class="container">
		<form name="req" id="info" action="" method="post" onsubmit="return areValuesEmpty(this)">
			<fieldset class="slots" id="fname">
				<input type="text" id="nonbtn" name="first" placeholder="First Name" required="required" autocomplete="off"> <input type="text" id="nonbtn" name="last" placeholder="Last Name" required="required" autocomplete="off">
			</fieldset>
			
			<fieldset class="slots" id="Lname">
				<input type="text" id="nonbtn" name="bn" placeholder="Business Name" required="required" autocomplete="off"> <input type="text" id="nonbtn" name="role" placeholder="Role" required="required" autocomplete="off">
			</fieldset>
			
			<fieldset class="slots" id="pnumber">
				<input type="tel" id="nonbtn" name="pp" placeholder="Primary phone #" required="required" autocomplete="off">
			</fieldset>

			<fieldset class="slots" id="mail">
				<input type="email" id="nonbtn" name="email" placeholder="Email Address" required="required" autocomplete="off">
			</fieldset>
			
			<fieldset class="slots" id="site">
				<input type="url" id="nonbtn" name="web" placeholder="Website" autocomplete="off">
			</fieldset>
			
			<p id="mss">Please request a call or set a time</p>
			<input type="submit" id="call" onclick="updateStyle()" style="margin: 5px 0 0 71px" value="Call Now"> 

			<!-- Trigger the modal with a button -->
			<input type="submit" id="next" data-toggle="modal" data-target="#myModal" onclick="send()" style="margin: 5px 0 0 47px" value="Continue">
  						
  			<div class="modal" id="myModal" role="dialog">		<!-- Modal -->   					
      			<div class="modal-content">		<!-- Modal content -->
        			<div class="modal-header">
          			<span id="close" data-dismiss="modal">&times;</span>
        			</div>
        			<div class="modal-body">
          			<p>Please set a time convenient for you</p><br>
          			<fieldset id="datefield">
          				<p>Date: <input type="text" id="datepicker" style="background-color: #E3E3E3;"></p>
          			</fieldset>
        			</div>
        			<div class="modal-footer">
        				<fieldset id="save_cancel"> <!--buttons in the modal-->
          				<button class="squareButton" type="submit">Cancel</button>
          				<button class="squareButton" id="savebtn" type="submit">Save</button>
								</fieldset>
        			</div> 
   					</div>
  			</div> 
		</form>
	</div>



	<script>
		
		$(document).ready (
			function() {
    	$("#datepicker").datepicker({
    		changeMonth: true, 
       changeYear: true, 
    	});
  	});
	
	</script>
	


	<script type="text/javascript">

		// This function checks the form inputs, if empty style changes
		function updateStyle() {
			if (document.req.first.value == "") {
				document.req.first.style.border= "1px solid red";
				document.req.first.style.backgroundColor="#FFFF99";
			}
			if(document.req.last.value=="") {
				document.req.last.style.border="1px solid red";
				document.req.last.style.backgroundColor="#FFFF99";
			}
			if(document.req.bn.value=="") {
				document.req.bn.style.border="1px solid red";
				document.req.bn.style.backgroundColor="#FFFF99";
			}
			if (document.req.role.value=="") {
				document.req.role.style.border="1px solid red";
				document.req.role.style.backgroundColor="#FFFF99";
			}
			if(document.req.pp.value=="") {
				document.req.pp.style.border="1px solid red";
				document.req.pp.style.backgroundColor="#FFFF99";
			}
			if(document.req.email.value=="") {
				document.req.email.style.border="1px solid red";
				document.req.email.style.backgroundColor="#FFFF99";
			}

			/*if (!document.req.first.value == "") {
				document.req.first.style.border= "none";
				document.req.first.style.borderBottom= "1px solid black";
				document.req.first.style.backgroundColor="#FFFFFF";
			}
			if(!document.req.last.value=="") {
				document.req.last.style.border="none";
				document.req.last.style.borderBottom= "1px solid black";
				document.req.last.style.backgroundColor="#FFFFFF";
			}
			if(!document.req.bn.value=="") {
				document.req.bn.style.border="none";
				document.req.bn.style.borderBottom= "1px solid black";
				document.req.bn.style.backgroundColor="#FFFFFF";
			}
			if (!document.req.role.value=="") {
				document.req.role.style.border="none";
				document.req.role.style.borderBottom= "1px solid black";
				document.req.role.style.backgroundColor="#FFFFFF";
			}
			if(!document.req.pp.value=="") {
				document.req.pp.style.border="none";
				document.req.pp.style.borderBottom= "1px solid black";
				document.req.pp.style.backgroundColor="#FFFFFF";
			}
			if(!document.req.email.value=="") {
				document.req.email.style.border="none";
				document.req.email.style.borderBottom= "1px solid black";
				document.req.email.style.backgroundColor="#FFFFFF";
			}*/


		}

		//This function checks if the form slots are empty (empty == true)
		function areValuesEmpty() {

			//get all inputs within the form with the name 'req'
			var inputs = document.forms['req']; 

			for (var i=0; i< inputs.length; i++) {

				if (inputs[i].hasAttribute("required") && inputs[i].value == "") {
					console.log("empty");
					updateStyle();
					return true;
				}
			}
			updateStyle();
			console.log("full");
			return false;
		}

		function showmodal() {
			var modal = document.getElementById('myModal');
			var btn = document.getElementById('next');
			var span = document.getElementById('close');

			btn.onclick = function() {
				modal.style.display = "block";
			}	//When button is clicked open modal

			span.onclick = function() {
				modal.style.display = "none";
			}// When the user clicks on <span> (x), close the modal

			window.onclick = function(event) {
				if (event.target == modal) {
					modal.style.display = "none";
	    	}// When the user clicks anywhere outside of the modal, close it
	   	}
	   	updateStyle();
	  }

	  function send() {

			if (!areValuesEmpty()){
				showmodal();
				console.log("Its not empty and finding step2");
				
			}

		}


	</script>
</body>
</html>